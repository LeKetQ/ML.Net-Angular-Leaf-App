
<h1>LEAF RECOGNIZER</h1>

<section id="mainmenu">
  <div class="button">
    <input type="file" (change)="onFileSelected($event)" />
  </div>

  <div>
    <ng-container *ngIf="selectedImageSource">
      <img class="uploadedImage" [src]="selectedImageSource" alt="Selected Image">
    </ng-container>
  </div>

  <div class="button" *ngIf="!isLoading && selectedFile">
    <button (click)="behaviorObject$.next(selectedFile)">Predict</button>
  </div>
</section>



<section id="flipcard" class="center">

  <ng-container *ngIf="(prediction$ | async) as pred; else noPrediction">
    <section class="front-face">
      <figure class="contents front">

        <p>Flip to see prediction</p>

      </figure>
    </section>

    <section class="back-face">
      <figure class="contents back">

        <h2> {{ pred.predictedLabel }} </h2>

      </figure>
    </section>
  </ng-container>

  <ng-template #noPrediction>
    <section class="front-face">
      <figure class="contents front">

        <ng-container *ngIf="isLoading">
          <div class="loading-spinner"></div>
        </ng-container>

        <ng-container *ngIf="!selectedFile && !error">
          <p>Select an image</p>
        </ng-container>

        <ng-container *ngIf="selectedFile && !isLoading && !error">
          <p>Click predict!</p>
        </ng-container>

        <ng-container *ngIf="error">
          <p> {{ error }} </p>
        </ng-container>

      </figure>
    </section>

    <section class="back-face">
      <figure class="contents back">

        <p>Select an image and click predict!</p>

      </figure>
    </section>
  </ng-template>

</section>




